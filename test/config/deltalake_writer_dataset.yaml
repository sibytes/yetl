database: demo_raw
table: customer_details
partitioned_by:
  - _partition_key

ddl: "{{ root }}"
properties:
  yetl.metadata.datasetId: true
  yetl.schema.createIfNotExists: true
deltalake_properties:
  delta.appendOnly: false
  delta.checkpoint.writeStatsAsJson: true
  delta.autoOptimize.autoCompact: true       
  delta.autoOptimize.optimizeWrite: true     
  delta.compatibility.symlinkFormatManifest.enabled: false
  delta.dataSkippingNumIndexedCols: -1
  delta.logRetentionDuration: interval 30 days
  delta.deletedFileRetentionDuration: interval 1 week
  delta.enableChangeDataFeed: true
  delta.minReaderVersion: 1
  delta.minWriterVersion: 2
  delta.randomizeFilePrefixes: false
  delta.randomPrefixLength: 2

format: delta
path: delta_lake/demo_raw/customer_details
write:
  mode: append
  options:
    mergeSchema: true